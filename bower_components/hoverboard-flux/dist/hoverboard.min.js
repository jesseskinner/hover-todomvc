var Hoverboard=function(){"use strict";function t(t,e,o){var a,i,c,p={};for(i in t)f.test(i)&&(a=n(t,i,o),c=u(i),p[c]=a);return p.getState=function(n){return r(n)?e(n):t.getState()},p}function n(t,n,e){return function(r,o,u){if(i)throw new Error("Hoverboard: Cannot call action in the middle of an action");i=1,t.state=e();try{var a=arguments.length;0===a?t[n]():1===a?t[n](r):2===a?t[n](r,o):3===a?t[n](r,o,u):t[n].apply(t,arguments)}finally{i=0}}}function e(t,n){var e,r,o=[];for(e=0;e<t.length;e++)r=t[e],r!==n&&o.push(r);return o}function r(t){return"function"==typeof t}function o(t){return t&&"object"==typeof t&&("number"!=typeof t.length||!r(t.splice))}function u(t){return t.charAt(2).toLowerCase()+t.substring(3)}function a(t,n){var e,o,u,a=function(){n(this),u&&u.apply(this)};r(t)?(e=t.prototype,u=t):e=t;for(o in e)a.prototype[o]=e[o];return a}var i=0,f=/^on[A-Z]/,c=function(){};return function(n){var u,i={},f=[],p=0,l=0,s=function(){if(s=c,r(u.getInitialState)){var t=u.getInitialState(),n=i;i=t,l&&h(n)}},g=function(){return s(),y(i)},y=function(t){return t},h=function(t){if(s(),p)throw new Error("Hoverboard: Cannot change state during a state change event");if(l=p=1,o(i)&&o(t)){var n,e;for(n in t)i[n]=t[n]}else i=t;u.state=i;try{for(e=0;e<f.length;e++)f[e](g())}finally{p=0}},v=function(t){i=null,h(t)},S=function(t){return f.push(t),t(g()),function(){t&&(f=e(f,t),t=null)}},b=function(){return s(),i};return n=a(n,function(t){u=t}),n.prototype.getState&&(y=n.prototype.getState),n.prototype.getState=g,n.prototype.setState=h,n.prototype.replaceState=v,u=new n,u.state=i,t(u,S,b)}}();