var Hoverboard=function(){"use strict";function t(t,e){var o,i,u,c={};for(i in t)f.test(i)&&(o=n(t,i),u=a(i),c[u]=o);return c.getState=function(n){return r(n)?e(n):t.getState()},c}function n(t,n){return function(e,r,o){if(u)throw new Error("Hoverboard: Cannot call action in the middle of an action");u=1,t.state=t.getState();try{var a=arguments.length;0===a?t[n]():1===a?t[n](e):2===a?t[n](e,r):3===a?t[n](e,r,o):t[n].apply(t,arguments)}finally{u=0}}}function e(t,n){var e,r,o=[];for(e=0;e<t.length;e++)r=t[e],r!==n&&o.push(r);return o}function r(t){return"function"==typeof t}function o(t){return t&&"object"==typeof t&&("number"!=typeof t.length||!r(t.splice))}function a(t){return t.charAt(2).toLowerCase()+t.substring(3)}function i(t,n){var e,o,a,i=function(){n(this),a&&a.apply(this)};r(t)?(e=t.prototype,a=t):e=t;for(o in e)i.prototype[o]=e[o];return i}var u=0,f=/^on[A-Z]/,c=function(){};return function(n){var a,u={},f=[],p=0,l=0,s=function(){if(s=c,r(a.getInitialState)){var t=a.getInitialState(),n=u;u=t,l&&h(n)}},g=function(){return s(),y(u)},y=function(t){return t},h=function(t){if(s(),p)throw new Error("Hoverboard: Cannot change state during a state change event");if(l=p=1,o(u)&&o(t)){var n,e;for(n in t)u[n]=t[n]}else u=t;u=g(),a.state=g();try{for(e=0;e<f.length;e++)f[e](g())}finally{p=0}},v=function(t){u=null,h(t)},S=function(t){return f.push(t),t(g()),function(){t&&(f=e(f,t),t=null)}};return n=i(n,function(t){a=t}),n.prototype.getState&&(y=n.prototype.getState),n.prototype.getState=g,n.prototype.setState=h,n.prototype.replaceState=v,a=new n,t(a,S)}}();